1 fora=832to915:readb:pokea,b:next

5 rem set voice channel registers
7 print chr$(147)
10 s1=36874
15 s2=36875
16 s3=36876
20 v=36878

21 readx:ready:readc
22 if x=-1 then 41
23 z=4096+y*22+x:rem character code location
24 w=37888+y*22+x
25 pokez,c
26 pokew,2

35 goto 21

41 print chr$(19)
42 print "sonic 3"
44 print "final boss"

100 rem set volume to max
110 poke v,15
115 sys832

120 read v1
121 read w1
122 read v2
123 read w2
124 read v3
125 read w3
126 read d1

130 if v1=-1 then 200

140 poke248,0:poke249,0:poke250,0

150 poke248,v1:poke251,w1
151 poke249,v2:poke252,w2
152 poke250,v3:poke253,w3

153 c1=rnd(1)*247+4 or 8

154 poke 36879,c1

180 for n=1 to d1: next n
190 goto 120

200 rem if note -1 then stop

210 poke v,0
212 poke 36879,27
213 poke 37150,64
215 print chr$(147)
220 end

240 data169,99,141,24,3,169,3,141,25,3,169,128,141,20,145,133,254,162,5,142,21,145,169
241 data0,149,248,202,16,251,169,192,141,30,145,96,72,152,72,138,72,6,254,144,2,230,254
242 data162,2,180,251,185,140,3,180,248,37,254,240,1,200,152,157,10,144,202,16,237,104
243 data170,104,168,104,44,20,145,64,0,128,136,146,170,218,238,254

250 data 7,5,160,8,5,160,12,5,160,13,5,160,14,5,160,7,6,160
251 data 9,6,160,12,6,160,14,6,160
252 data 7,7,160,9,7,160,11,7,160,12,7,160,14,7,160,7,8,160
253 data 9,8,160,11,8,160,14,8,160
254 data 7,9,160,9,9,160,11,9,160,14,9,160,7,10,95,8,10,233
255 data 9,10,205,10,10,160,11,10,160
256 data 12,10,206,13,10,223,14,10,105,8,11,213,9,11,201
257 data 10,11,160,11,11,160,12,11,213
258 data 13,11,201,8,12,202,9,12,203,10,12,160,11,12,160
259 data 12,12,202,13,12,203,8,13,160
260 data 9,13,160,10,13,223,11,13,233,12,13,160,13,13,160
261 data 8,14,160,9,14,205,10,14,206
262 data 11,14,205,12,14,206,13,14,160,8,15,95,9,15,160
263 data 10,15,160,11,15,160,12,15,160
264 data 13,15,105
280 data -1,0,0
